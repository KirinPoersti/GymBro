{% extends "base.html" %}
{% block wrap_class %}wrap--wide{% endblock %}
{% block header %}{% endblock %}
{% block content %}

<div class="topbar">
  <div class="brand">üèãüèøGymBro</div>
</div>

<form method="post" class="profile-form" id="profile-form">
  <div class="grid">
    <label>Height (cm):</label>
    <input name="height_cm" id="height_cm" type="number" min="0" step="1"
           placeholder="Height (cm)"
           value="{{ user['height_cm'] if user.get('height_cm') is not none else '' }}">

    <label>Weight (kg):</label>
    <input name="weight_kg" id="weight_kg" type="number" min="0" step="0.1"
           placeholder="Weight (kg)"
           value="{{ user['weight_kg'] if user.get('weight_kg') is not none else '' }}">

    <label>Age (years):</label>
    <input name="age" id="age" type="number" min="0" step="1"
           placeholder="Age"
           value="{{ user['age'] if user.get('age') is not none else '' }}">

    <label>Sex:</label>
    <select name="sex" id="sex">
      <option value="male"   {{ 'selected' if user.get('sex') == 'male'   else '' }}>Male</option>
      <option value="female" {{ 'selected' if user.get('sex') == 'female' else '' }}>Female</option>
    </select>

    <label>Activity:</label>
    <select name="activity" id="activity">
      <option value="1.2"   {{ 'selected' if user.get('activity') == '1.2'   else '' }}>Sedentary</option>
      <option value="1.375" {{ 'selected' if user.get('activity') == '1.375' else '' }}>Light (1‚Äì3x/wk)</option>
      <option value="1.55"  {{ 'selected' if user.get('activity') == '1.55'  else '' }}>Moderate (3‚Äì5x/wk)</option>
      <option value="1.725" {{ 'selected' if user.get('activity') == '1.725' else '' }}>Very (6‚Äì7x/wk)</option>
      <option value="1.9"   {{ 'selected' if user.get('activity') == '1.9'   else '' }}>Athlete/Heavy</option>
    </select>

    <label>Goal:</label>
    <select name="goal" id="goal">
      <option value="fat_loss" {{ 'selected' if user.get('goal') == 'fat_loss' else '' }}>Fat loss (1.0 g/kg)</option>
      <option value="casual"   {{ 'selected' if user.get('goal') == 'casual'   else '' }}>Casual mover (1.5 g/kg)</option>
      <option value="muscle"   {{ 'selected' if user.get('goal') == 'muscle'   else '' }}>Muscle build (2.2 g/kg)</option>
    </select>

    <label>Calorie plan:</label>
    <select name="calorie_plan" id="calorie_plan">
      <option value="maintain" {{ 'selected' if user.get('calorie_plan') == 'maintain' else '' }}>Maintain (TDEE)</option>
      <option value="cut"      {{ 'selected' if user.get('calorie_plan') == 'cut'      else '' }}>Cut (‚àí20%)</option>
      <option value="bulk"     {{ 'selected' if user.get('calorie_plan') == 'bulk'     else '' }}>Bulk (+10%)</option>
    </select>

    <label>Low-carb start date:</label>
    <input name="low_carb_start" id="low_carb_start" type="date"
           value="{{ user.get('low_carb_start') or '' }}">
  </div>

  <hr>

  <div class="grid two-col">
    <label>Preferred daily protein (g):</label>
    <input id="protein_target_g" name="protein_target_g" type="number" step="1" readonly
           value="{{ user.get('protein_target_g') or '' }}">

    <label>Low-carb day carbs (g):</label>
    <input id="carbs_low_g" name="carbs_low_g" type="number" step="1" readonly
           value="{{ user.get('carbs_low_g') or '' }}">

    <label>High-carb day carbs (g):</label>
    <input id="carbs_high_g" name="carbs_high_g" type="number" step="1" readonly
           value="{{ user.get('carbs_high_g') or '' }}">

    <label>Estimated daily calories (kcal):</label>
    <input id="calories_target" name="calories_target" type="number" step="1" readonly
           value="{{ user.get('calories_target') or '' }}">
  </div>

  <button class="btn" type="submit">Confirm</button>
</form>

<style>
  .topbar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:8px;
  }
  .brand{
    font-size:34px;
    text-decoration:none;
    color:#111;
  }
  .profile-form input,
  .profile-form select{
    max-width:220px;
    padding:6px 10px;
    border:none;
    border-radius:10px;
    background:#fff;
    font-size:15px;
    color:#111;
    box-shadow:
      0 1px 2px rgba(0,0,0,.08),
      0 4px 14px rgba(0,0,0,.08);
    transition: box-shadow .2s ease, transform .2s ease, background .2s ease;
  }
  .profile-form input:focus,
  .profile-form select:focus{
    outline:none;
    box-shadow:
      inset 0 0 0 2px rgba(122,167,255,1),
      0 2px 8px rgba(0,0,0,.12);
  }
  .profile-form input[readonly]{
    background:#f7f7f7;
    color:#666;
  }

  .grid{
    display:grid;
    grid-template-columns:180px 1fr;
    gap:10px 12px;
    align-items:center;
    max-width:560px;
    margin:0 auto 10px;
  }
  .grid.two-col{ grid-template-columns:240px 1fr; }

  hr{
    max-width:560px;
    border:0;
    border-top:1px solid #ddd;
    margin:14px auto;
  }

  .btn{
    margin-top:12px;
    padding:8px 20px;
    border:none;
    border-radius:10px;
    background:#fff;
    cursor:pointer;
    box-shadow:
      0 1px 2px rgba(0,0,0,.08),
      0 6px 18px rgba(0,0,0,.10);
    transition: box-shadow .2s ease, transform .2s ease, background .2s ease;
  }
  .btn:hover{
    transform: translateY(-1px);
    background:#f7f7f7;
    box-shadow:
      0 2px 6px rgba(0,0,0,.10),
      0 14px 28px rgba(0,0,0,.16);
  }
</style>

{% endblock %}
